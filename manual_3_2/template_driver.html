{"id":"328","uid":"3","name":"template_driver","title":"\u6a21\u677f\u5f15\u64ce\u9a71\u52a8","category_id":"1","description":"","pid":"128","model_id":"2","root":"1","type":"1","position":"0","link_id":"0","cover_id":"0","display":"0","dateline":"0","attach":"0","view":"0","comment":"0","extend":"0","level":"50","create_time":"1389618021","update_time":"1389618021","status":"1","parse":"2","content":"<p>\u6a21\u677f\u5f15\u64ce\u9a71\u52a8\u5b8c\u6210\u4e86\u7b2c\u4e09\u65b9\u6a21\u677f\u5f15\u64ce\u7684\u652f\u6301\uff0c\u901a\u8fc7\u5b9a\u4e49\u6a21\u677f\u5f15\u64ce\u9a71\u52a8\uff0c\u6211\u4eec\u53ef\u4ee5\u652f\u6301Smarty\u3001TemplateLite\u3001SmartTemplate\u548cEaseTemplate\u7b49\u7b2c\u4e09\u65b9\u6a21\u677f\u5f15\u64ce\u3002<\/p>\n\n<p>\u9ed8\u8ba4\u7684\u6a21\u677f\u5f15\u64ce\u9a71\u52a8\u7684\u547d\u540d\u7a7a\u95f4\u4f4d\u4e8e <code>Think\\Template\\Driver<\/code>\uff0c\u9700\u8981\u5b9e\u73b0\u7684\u63a5\u53e3\u65b9\u6cd5\u53ea\u6709\u4e00\u4e2a fetch($templateFile,$var) \u7528\u4e8e\u6e32\u67d3\u6a21\u677f\u6587\u4ef6\u5e76\u8f93\u51fa\u3002<\/p>\n\n<p>\u4e0b\u9762\u662f\u4e00\u4e2aSmarty\u6a21\u677f\u5f15\u64ce\u6269\u5c55\u7684\u793a\u4f8b\uff1a<\/p>\n\n<pre><code>namespace Think\\Template\\Driver;\nclass Smarty {\n\n    \/**\n     * \u6e32\u67d3\u6a21\u677f\u8f93\u51fa\n     * @access public\n     * @param string $templateFile \u6a21\u677f\u6587\u4ef6\u540d\n     * @param array $var \u6a21\u677f\u53d8\u91cf\n     * @return void\n     *\/\n    public function fetch($templateFile,$var) {\n        $templateFile   =   substr($templateFile,strlen(THEME_PATH));\n        vendor('Smarty.Smarty#class');\n        $tpl            =   new \\Smarty();\n        $tpl-&gt;caching       = C('TMPL_CACHE_ON');\n        $tpl-&gt;template_dir  = THEME_PATH;\n        $tpl-&gt;compile_dir   = CACHE_PATH ;\n        $tpl-&gt;cache_dir     = TEMP_PATH ;        \n        if(C('TMPL_ENGINE_CONFIG')) {\n            $config  =  C('TMPL_ENGINE_CONFIG');\n            foreach ($config as $key=&gt;$val){\n                $tpl-&gt;{$key}   =  $val;\n            }\n        }\n        $tpl-&gt;assign($var);\n        $tpl-&gt;display($templateFile);\n    }\n}\n<\/code><\/pre>\n\n<p>\u5982\u679c\u8981\u4f7f\u7528Smarty\u6a21\u677f\u5f15\u64ce\u7684\u8bdd\uff0c\u53ea\u9700\u8981\u914d\u7f6e<\/p>\n\n<pre><code>'TMPL_ENGINE_TYPE'=&gt;'Smarty',\n'TMPL_ENGINE_CONFIG'=&gt;array(\n    'plugins_dir'=&gt;'.\/Application\/Smarty\/Plugins\/',\n),\n<\/code><\/pre>\n","template":""}