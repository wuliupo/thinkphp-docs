{"id":"193","uid":"1","name":"sub_query","title":"\u5b50\u67e5\u8be2","category_id":"1","description":"","pid":"38","model_id":"2","root":"1","type":"1","position":"0","link_id":"0","cover_id":"0","display":"0","dateline":"0","attach":"0","view":"0","comment":"0","extend":"0","level":"0","create_time":"1382496724","update_time":"1382496724","status":"1","parse":"0","content":"<p>\u4ece3.0\u7248\u672c\u5f00\u59cb\u65b0\u589e\u4e86\u5b50\u67e5\u8be2\u652f\u6301\uff0c\u6709\u4e24\u79cd\u4f7f\u7528\u65b9\u5f0f\uff1a<\/p>\n\n<p>1\u3001\u4f7f\u7528select\u65b9\u6cd5\n\u5f53select\u65b9\u6cd5\u7684\u53c2\u6570\u4e3afalse\u7684\u65f6\u5019\uff0c\u8868\u793a\u4e0d\u8fdb\u884c\u67e5\u8be2\u53ea\u662f\u8fd4\u56de\u6784\u5efaSQL\uff0c\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>\/\/ \u9996\u5148\u6784\u9020\u5b50\u67e5\u8be2SQL \n$subQuery = $model-&gt;field('id,name')-&gt;table('tablename')-&gt;group('field')-&gt;where($where)-&gt;order('status')-&gt;select(false); \n<\/code><\/pre>\n\n<p>\u5f53select\u65b9\u6cd5\u4f20\u5165false\u53c2\u6570\u7684\u65f6\u5019\uff0c\u8868\u793a\u4e0d\u6267\u884c\u5f53\u524d\u67e5\u8be2\uff0c\u800c\u53ea\u662f\u751f\u6210\u67e5\u8be2SQL\u3002<\/p>\n\n<p>2\u3001\u4f7f\u7528buildSql\u65b9\u6cd5<\/p>\n\n<pre><code>$subQuery = $model-&gt;field('id,name')-&gt;table('tablename')-&gt;group('field')-&gt;where($where)-&gt;order('status')-&gt;buildSql(); \n<\/code><\/pre>\n\n<p>\u8c03\u7528buildSql\u65b9\u6cd5\u540e\u4e0d\u4f1a\u8fdb\u884c\u5b9e\u9645\u7684\u67e5\u8be2\u64cd\u4f5c\uff0c\u800c\u53ea\u662f\u751f\u6210\u8be5\u6b21\u67e5\u8be2\u7684SQL\u8bed\u53e5\uff08\u4e3a\u4e86\u907f\u514d\u6df7\u6dc6\uff0c\u4f1a\u5728SQL\u4e24\u8fb9\u52a0\u4e0a\u62ec\u53f7\uff09\uff0c\u7136\u540e\u6211\u4eec\u76f4\u63a5\u5728\u540e\u7eed\u7684\u67e5\u8be2\u4e2d\u76f4\u63a5\u8c03\u7528\u3002<\/p>\n\n<pre><code>\/\/ \u5229\u7528\u5b50\u67e5\u8be2\u8fdb\u884c\u67e5\u8be2 \n$model-&gt;table($subQuery.' a')-&gt;where()-&gt;order()-&gt;select() \n<\/code><\/pre>\n\n<p>\u6784\u9020\u7684\u5b50\u67e5\u8be2SQL\u53ef\u7528\u4e8eThinkPHP\u7684\u8fde\u8d2f\u64cd\u4f5c\u65b9\u6cd5\uff0c\u4f8b\u5982table where\u7b49\u3002<\/p>\n","template":""}