{"id":"329","uid":"3","name":"taglib_driver","title":"\u6807\u7b7e\u5e93\u9a71\u52a8","category_id":"1","description":"","pid":"128","model_id":"2","root":"1","type":"1","position":"0","link_id":"0","cover_id":"0","display":"0","dateline":"0","attach":"0","view":"0","comment":"0","extend":"0","level":"40","create_time":"1389618047","update_time":"1389618047","status":"1","parse":"2","content":"<p>\u4efb\u4f55\u4e00\u4e2a\u6a21\u677f\u5f15\u64ce\u7684\u529f\u80fd\u90fd\u4e0d\u53ef\u80fd\u662f\u4e3a\u4f60\u91cf\u8eab\u5b9a\u5236\u7684\uff0c\u5177\u6709\u4e00\u4e2a\u826f\u597d\u7684\u53ef\u6269\u5c55\u673a\u5236\u4e5f\u662f\u6a21\u677f\u5f15\u64ce\u7684\u53e6\u5916\u4e00\u4e2a\u8003\u91cf\uff0cSmarty\u91c7\u7528\u7684\u662f\u63d2\u4ef6\u65b9\u6cd5\u6765\u5b9e\u73b0\u6269\u5c55\uff0cThink\\Template\u7531\u4e8e\u91c7\u7528\u4e86\u6807\u7b7e\u5e93\u6280\u672f\uff0c\u6bd4Smarty\u63d0\u4f9b\u4e86\u66f4\u4e3a\u5f3a\u5927\u7684\u5b9a\u5236\u529f\u80fd\uff0c\u548cJava\u7684TagLibs\u4e00\u6837\u53ef\u4ee5\u652f\u6301\u81ea\u5b9a\u4e49\u6807\u7b7e\u5e93\u548c\u6807\u7b7e\uff0c\u6bcf\u4e2a\u6807\u7b7e\u90fd\u6709\u72ec\u7acb\u7684\u89e3\u6790\u65b9\u6cd5\uff0c\u6240\u4ee5\u53ef\u4ee5\u6839\u636e\u6807\u7b7e\u5e93\u7684\u5b9a\u4e49\u89c4\u5219\u6765\u589e\u52a0\u548c\u4fee\u6539\u6807\u7b7e\u89e3\u6790\u89c4\u5219\u3002<\/p>\n\n<p>\u5728Think\\Template\u4e2d\u6807\u7b7e\u5e93\u7684\u4f53\u73b0\u662f\u91c7\u7528XML\u547d\u540d\u7a7a\u95f4\u7684\u65b9\u5f0f\u3002\u6bcf\u4e2a\u6807\u7b7e\u5e93\u5bf9\u5e94\u4e00\u4e2a\u6807\u7b7e\u5e93\u9a71\u52a8\u7c7b\uff0c\u6bcf\u4e2a\u9a71\u52a8\u7c7b\u8d1f\u8d23\u5bf9\u6807\u7b7e\u5e93\u4e2d\u7684\u6240\u6709\u6807\u7b7e\u7684\u89e3\u6790\u3002<\/p>\n\n<p>\u6807\u7b7e\u5e93\u9a71\u52a8\u7c7b\u7684\u4f5c\u7528\u5176\u5b9e\u5c31\u662f\u628a\u67d0\u4e2a\u6807\u7b7e\u5b9a\u4e49\u89e3\u6790\u6210\u4e3a\u6709\u6548\u7684\u6a21\u7248\u6587\u4ef6\uff08\u53ef\u4ee5\u5305\u62ecPHP\u8bed\u53e5\u6216\u8005HTML\u6807\u7b7e\uff09\uff0c\u6807\u7b7e\u5e93\u9a71\u52a8\u7684\u547d\u540d\u7a7a\u95f4\u4f4d\u4e8e <code>Think\\Template\\TagLib<\/code>\uff0c\u6807\u7b7e\u5e93\u9a71\u52a8\u5fc5\u987b\u7ee7\u627f<code>Think\\Template\\TagLib<\/code>\u7c7b\uff0c\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>namespace Think\\Template\\Taglib;\nuse Think\\Template\\TagLib;\nClass Test extends TagLib{\n}\n<\/code><\/pre>\n\n<p>\u9996\u5148\u9700\u8981\u5b9a\u4e49\u6807\u7b7e\u5e93\u7684\u6807\u7b7e\u5b9a\u4e49\uff0c\u6807\u7b7e\u5b9a\u4e49\u5305\u542b\u4e86\u6240\u6709\u6807\u7b7e\u5e93\u4e2d\u652f\u6301\u7684\u6240\u6709\u6807\u7b7e\uff0c\u5b9a\u4e49\u65b9\u5f0f\u5982\u4e0b\uff1a<\/p>\n\n<pre><code>protected $tags   =  array(\n  \/\/ \u5b9a\u4e49\u6807\u7b7e\n 'input'    =&gt;    array('attr'=&gt;'type,name,id,value','close'=&gt;0), \/\/ input\u6807\u7b7e\n 'textarea' =&gt;    array('attr'=&gt;'name,id')\uff0c\n );\n<\/code><\/pre>\n\n<p>\u6807\u7b7e\u5e93\u7684\u6240\u6709\u652f\u6301\u6807\u7b7e\u90fd\u5728tags\u5c5e\u6027\u4e2d\u8fdb\u884c\u5b9a\u4e49\uff0ctags\u5c5e\u6027\u662f\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\uff0c\u6bcf\u4e2a\u5143\u7d20\u5c31\u662f\u4e00\u4e2a\u6807\u7b7e\u5b9a\u4e49\uff0c\u7d22\u5f15\u540d\u5c31\u662f\u6807\u7b7e\u540d\uff0c\u91c7\u7528\u5c0f\u5199\u5b9a\u4e49\uff0c\u8c03\u7528\u7684\u65f6\u5019\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002<\/p>\n\n<p>\u6bcf\u4e2a\u6807\u7b7e\u5b9a\u4e49\u652f\u6301\u7684\u5c5e\u6027\u5305\u62ec\uff1a<\/p>\n\n<table>\n<thead>\n<tr>\n  <th>\u5c5e\u6027\u540d<\/th>\n  <th>\u8bf4\u660e<\/th>\n<\/tr>\n<\/thead>\n<tbody>\n<tr>\n  <td>attr<\/td>\n  <td>\u6807\u7b7e\u652f\u6301\u7684\u5c5e\u6027\u5217\u8868\uff0c\u7528\u9017\u53f7\u5206\u9694<\/td>\n<\/tr>\n<tr>\n  <td>close<\/td>\n  <td>\u6807\u7b7e\u662f\u5426\u4e3a\u95ed\u5408\u65b9\u5f0f \uff080\u95ed\u5408 1\u4e0d\u95ed\u5408\uff09\uff0c\u9ed8\u8ba4\u4e3a\u4e0d\u95ed\u5408<\/td>\n<\/tr>\n<tr>\n  <td>level<\/td>\n  <td>\u6807\u7b7e\u7684\u5d4c\u5957\u5c42\u6b21\uff08\u53ea\u6709\u4e0d\u95ed\u5408\u7684\u6807\u7b7e\u624d\u6709\u5d4c\u5957\u5c42\u6b21\uff09<\/td>\n<\/tr>\n<tr>\n  <td>alias<\/td>\n  <td>\u6807\u7b7e\u522b\u540d<\/td>\n<\/tr>\n<\/tbody>\n<\/table>\n\n<p>\u5b9a\u4e49\u4e86\u6807\u7b7e\u5c5e\u6027\u540e\uff0c\u5c31\u9700\u8981\u5b9a\u4e49\u6bcf\u4e2a\u6807\u7b7e\u7684\u89e3\u6790\u65b9\u6cd5\u4e86\uff0c\u6bcf\u4e2a\u6807\u7b7e\u7684\u89e3\u6790\u65b9\u6cd5\u5728\u5b9a\u4e49\u7684\u65f6\u5019\u9700\u8981\u6dfb\u52a0\u201c_\u201d\u524d\u7f00\uff0c\u4f20\u5165\u4e24\u4e2a\u53c2\u6570\uff0c\u5bf9\u5e94\u5c5e\u6027\u6570\u7ec4\u548c\u5185\u5bb9\u5b57\u7b26\u4e32\uff08\u9488\u5bf9\u975e\u95ed\u5408\u6807\u7b7e\uff09\u3002\u5fc5\u987b\u8fd4\u56de\u6807\u7b7e\u7684\u5b57\u7b26\u4e32\u89e3\u6790\u8f93\u51fa\uff0c\u5728\u6807\u7b7e\u89e3\u6790\u7c7b\u4e2d\u53ef\u4ee5\u8c03\u7528\u6a21\u677f\u7c7b\u7684\u5b9e\u4f8b\u3002\u4e0b\u9762\u662f\u4e00\u4e2a<strong>input<\/strong>\u89e3\u6790\u65b9\u6cd5\u7684\u5b9a\u4e49\uff1a<\/p>\n\n<pre><code>\/\/ input\u6807\u7b7e\u89e3\u6790\npublic function _input($tag,$content)   {\n    $name   =   $tag['name'];\n    $id    =    $tag['id'];\n    $type   =   $tag['type'];\n    $value   =   $this-&gt;autoBuildVar($tag['value']);\n    $str = \"&lt;input type='\".$type.\"' id='\".$id.\"' name='\".$name.\"' value='\".$value.\"' \/&gt;\";\n    return $str;\n}\n\/\/ textarea\u6807\u7b7e\u89e3\u6790\npublic function _textarea($tag,$content)   {\n    $name  =   $tag['name'];\n    $id    =   $tag['id'];\n    $str   =   '&lt;textarea id=\"'.$id.'\" name=\"'.$name.'\"&gt;'.$content.'&lt;\/textarea&gt;';\n    return $str;\n}\n<\/code><\/pre>\n\n<p>\u5b9a\u4e49\u597d\u6807\u7b7e\u5e93\u6269\u5c55\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u6a21\u677f\u4e2d\u4f7f\u7528\u4e86\uff0c\u9996\u5148\u6211\u4eec\u5fc5\u987b\u8981\u544a\u8bc9\u6a21\u677f\u7533\u660eTest\u6807\u7b7e\u5e93\uff0c\u7528taglib\u6807\u7b7e\uff0c\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>&lt;taglib name='Test' \/&gt;\n<\/code><\/pre>\n\n<p>name\u5c5e\u6027\u652f\u6301\u7533\u660e\u591a\u4e2a\u6807\u7b7e\u5e93\uff0c\u7528\u9017\u53f7\u5206\u9694\u5373\u53ef\u3002\u7533\u660eTest\u6807\u7b7e\u5e93\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528Test\u6807\u7b7e\u5e93\u4e2d\u7684\u6240\u6709\u6807\u7b7e\u5e93\u4e86\uff0c\u8c03\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a<\/p>\n\n<pre><code>&lt;test:input type='radio' id='test' name='mail' value='value' \/&gt;\n&lt;test:textarea id=\"content\" name=\"content\"&gt;$value&lt;\/test:textarea&gt;\n<\/code><\/pre>\n\n<blockquote>\n  <p>\u6ce8\u610f\uff1a\u8c03\u7528\u6269\u5c55\u6807\u7b7e\u5e93\u7684\u6807\u7b7e\u7684\u65f6\u5019\uff0c\u5fc5\u987b\u52a0\u4e0a\u6807\u7b7e\u5e93\u7684XML\u547d\u540d\u7a7a\u95f4\u524d\u7f00\u3002<\/p>\n<\/blockquote>\n\n<p>Input\u6807\u7b7e\u5b9a\u4e49value\u5c5e\u6027\u53ef\u4ee5\u652f\u6301\u53d8\u91cf\u4f20\u5165\uff0c\u6240\u4ee5value\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a\u53d8\u91cf\u540d\uff0c\u5982\u679c\u5728\u63a7\u5236\u5668\u4e2d\u5df2\u7ecf\u7ed9value\u6a21\u677f\u53d8\u91cf\u8d4b\u503c\uff0c\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>$this-&gt;assign('value','my test value');\n<\/code><\/pre>\n\n<p>\u6700\u540e\u6807\u7b7e\u88ab\u6a21\u677f\u5f15\u64ce\u7f16\u8bd1\u540e\uff0c\u5c31\u4f1a\u8f93\u51fa\uff1a<\/p>\n\n<pre><code>&lt;input type='radio' id='test' name='mail' value='my test value' \/&gt;\n&lt;textarea id=\"content\" name=\"content\"&gt;my test vale&lt;\/textarea&gt;\n<\/code><\/pre>\n","template":""}