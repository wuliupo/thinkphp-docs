{"id":"200","uid":"1","name":"express_query","title":"\u8868\u8fbe\u5f0f\u67e5\u8be2","category_id":"1","description":"","pid":"38","model_id":"2","root":"1","type":"1","position":"0","link_id":"0","cover_id":"0","display":"0","dateline":"0","attach":"0","view":"0","comment":"0","extend":"0","level":"0","create_time":"1382496724","update_time":"1382496724","status":"1","parse":"0","content":"<p>\u4e0a\u9762\u7684\u67e5\u8be2\u6761\u4ef6\u4ec5\u4ec5\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u76f8\u7b49\u5224\u65ad\uff0c\u53ef\u4ee5\u4f7f\u7528\u67e5\u8be2\u8868\u8fbe\u5f0f\u652f\u6301\u66f4\u591a\u7684SQL\u67e5\u8be2\u8bed\u6cd5\uff0c\u4e5f\u662fThinkPHP\u67e5\u8be2\u8bed\u8a00\u7684\u7cbe\u9ad3\uff0c\u67e5\u8be2\u8868\u8fbe\u5f0f\u7684\u4f7f\u7528\u683c\u5f0f\uff1a<\/p>\n\n<h5>$map['\u5b57\u6bb5\u540d'] = array('\u8868\u8fbe\u5f0f','\u67e5\u8be2\u6761\u4ef6');<\/h5>\n\n<p>\u8868\u8fbe\u5f0f\u4e0d\u5206\u5927\u5c0f\u5199\uff0c\u652f\u6301\u7684\u67e5\u8be2\u8868\u8fbe\u5f0f\u6709\u4e0b\u9762\u51e0\u79cd\uff0c\u5206\u522b\u8868\u793a\u7684\u542b\u4e49\u662f\uff1a<\/p>\n\n<table>\n<thead>\n<tr>\n  <th>\u8868\u8fbe\u5f0f<\/th>\n  <th>\u542b\u4e49<\/th>\n  <th>\u534f\u52a9\u8bb0\u5fc6<\/th>\n<\/tr>\n<\/thead>\n<tbody>\n<tr>\n  <td>EQ<\/td>\n  <td>\u7b49\u4e8e\uff08=\uff09<\/td>\n  <td>equal<\/td>\n<\/tr>\n<tr>\n  <td>NEQ<\/td>\n  <td>\u4e0d\u7b49\u4e8e\uff08&lt;>\uff09<\/td>\n  <td>not equal<\/td>\n<\/tr>\n<tr>\n  <td>GT<\/td>\n  <td>\u5927\u4e8e\uff08>\uff09<\/td>\n  <td>greater<\/td>\n<\/tr>\n<tr>\n  <td>EGT<\/td>\n  <td>\u5927\u4e8e\u7b49\u4e8e\uff08>=\uff09<\/td>\n  <td>equal or greater<\/td>\n<\/tr>\n<tr>\n  <td>LT<\/td>\n  <td>\u5c0f\u4e8e\uff08&lt;\uff09<\/td>\n  <td>less than<\/td>\n<\/tr>\n<tr>\n  <td>ELT<\/td>\n  <td>\u5c0f\u4e8e\u7b49\u4e8e\uff08&lt;=\uff09<\/td>\n  <td>equal or less than<\/td>\n<\/tr>\n<tr>\n  <td>LIKE<\/td>\n  <td>\u6a21\u7cca\u67e5\u8be2<\/td>\n  <td><\/td>\n<\/tr>\n<tr>\n  <td>[NOT] BETWEEN<\/td>\n  <td>\uff08\u4e0d\u5728\uff09\u533a\u95f4\u67e5\u8be2<\/td>\n  <td><\/td>\n<\/tr>\n<tr>\n  <td>[NOT] IN<\/td>\n  <td>\uff08\u4e0d\u5728\uff09IN \u67e5\u8be2<\/td>\n  <td><\/td>\n<\/tr>\n<tr>\n  <td>EXP<\/td>\n  <td>\u8868\u8fbe\u5f0f\u67e5\u8be2\uff0c\u652f\u6301SQL\u8bed\u6cd5<\/td>\n  <td>expression<\/td>\n<\/tr>\n<\/tbody>\n<\/table>\n\n<p>\u8868\u8fbe\u5f0f\u67e5\u8be2\u7684\u7528\u6cd5\u793a\u4f8b\u5982\u4e0b\uff1a<\/p>\n\n<h2>EQ \uff1a\u7b49\u4e8e\uff08=\uff09<\/h2>\n\n<p>\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>$map['id']  = array('eq',100);\n<\/code><\/pre>\n\n<p>\u548c\u4e0b\u9762\u7684\u67e5\u8be2\u7b49\u6548<\/p>\n\n<pre><code>$map['id']  = 100;\n<\/code><\/pre>\n\n<p>\u8868\u793a\u7684\u67e5\u8be2\u6761\u4ef6\u5c31\u662f <code>id = 100<\/code><\/p>\n\n<h2>NEQ\uff1a \u4e0d\u7b49\u4e8e\uff08&lt;>\uff09<\/h2>\n\n<p>\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>$map['id']  = array('neq',100);\n<\/code><\/pre>\n\n<p>\u8868\u793a\u7684\u67e5\u8be2\u6761\u4ef6\u5c31\u662f <code>id &lt;&gt; 100<\/code><\/p>\n\n<h2>GT\uff1a\u5927\u4e8e\uff08>\uff09<\/h2>\n\n<p>\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>$map['id']  = array('gt',100);\n<\/code><\/pre>\n\n<p>\u8868\u793a\u7684\u67e5\u8be2\u6761\u4ef6\u5c31\u662f <code>id &gt; 100<\/code><\/p>\n\n<h2>EGT\uff1a\u5927\u4e8e\u7b49\u4e8e\uff08>=\uff09<\/h2>\n\n<p>\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>$map['id']  = array('egt',100);\n<\/code><\/pre>\n\n<p>\u8868\u793a\u7684\u67e5\u8be2\u6761\u4ef6\u5c31\u662f <code>id &gt;= 100<\/code><\/p>\n\n<h2>LT\uff1a\u5c0f\u4e8e\uff08&lt;\uff09<\/h2>\n\n<p>\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>$map['id']  = array('lt',100);\n<\/code><\/pre>\n\n<p>\u8868\u793a\u7684\u67e5\u8be2\u6761\u4ef6\u5c31\u662f <code>id &lt; 100<\/code><\/p>\n\n<h2>ELT\uff1a \u5c0f\u4e8e\u7b49\u4e8e\uff08&lt;=\uff09<\/h2>\n\n<p>\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>$map['id']  = array('elt',100);\n<\/code><\/pre>\n\n<p>\u8868\u793a\u7684\u67e5\u8be2\u6761\u4ef6\u5c31\u662f <code>id &lt;= 100<\/code><\/p>\n\n<h2>[NOT] LIKE\uff1a \u540csql\u7684LIKE<\/h2>\n\n<p>\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>$map['name'] = array('like','thinkphp%');\n<\/code><\/pre>\n\n<p>\u67e5\u8be2\u6761\u4ef6\u5c31\u53d8\u6210 <code>name like 'thinkphp%'<\/code>\n\u5982\u679c\u914d\u7f6e\u4e86DB_LIKE_FIELDS\u53c2\u6570\u7684\u8bdd\uff0c\u67d0\u4e9b\u5b57\u6bb5\u4e5f\u4f1a\u81ea\u52a8\u8fdb\u884c\u6a21\u7cca\u67e5\u8be2\u3002\u4f8b\u5982\u8bbe\u7f6e\u4e86\uff1a<\/p>\n\n<pre><code>'DB_LIKE_FIELDS'=&gt;'title|content'\n<\/code><\/pre>\n\n<p>\u7684\u8bdd\uff0c\u4f7f\u7528<\/p>\n\n<pre><code>$map['title'] = 'thinkphp';\n<\/code><\/pre>\n\n<p>\u67e5\u8be2\u6761\u4ef6\u5c31\u4f1a\u53d8\u6210 <code>title like '%thinkphp%'<\/code>\n\u652f\u6301\u6570\u7ec4\u65b9\u5f0f\uff0c\u4f8b\u5982<\/p>\n\n<pre><code>$map['a'] =array('like',array('%thinkphp%','%tp'),'OR');\n$map['b'] =array('notlike',array('%thinkphp%','%tp'),'AND');\n<\/code><\/pre>\n\n<p>\u751f\u6210\u7684\u67e5\u8be2\u6761\u4ef6\u5c31\u662f\uff1a<\/p>\n\n<pre><code>(a like '%thinkphp%' OR a like '%tp') AND (b not like '%thinkphp%' AND b not like '%tp')\n<\/code><\/pre>\n\n<h2>[NOT] BETWEEN \uff1a\u540csql\u7684[not] between<\/h2>\n\n<p>\u67e5\u8be2\u6761\u4ef6\u652f\u6301\u5b57\u7b26\u4e32\u6216\u8005\u6570\u7ec4\uff0c\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>$map['id']  = array('between','1,8');\n<\/code><\/pre>\n\n<p>\u548c\u4e0b\u9762\u7684\u7b49\u6548\uff1a<\/p>\n\n<pre><code>$map['id']  = array('between',array('1','8'));\n<\/code><\/pre>\n\n<p>\u67e5\u8be2\u6761\u4ef6\u5c31\u53d8\u6210 <code>id BETWEEN 1 AND 8<\/code><\/p>\n\n<h2>[NOT] IN\uff1a \u540csql\u7684[not] in<\/h2>\n\n<p>\u67e5\u8be2\u6761\u4ef6\u652f\u6301\u5b57\u7b26\u4e32\u6216\u8005\u6570\u7ec4\uff0c\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>$map['id']  = array('not in','1,5,8');\n<\/code><\/pre>\n\n<p>\u548c\u4e0b\u9762\u7684\u7b49\u6548\uff1a<\/p>\n\n<pre><code>$map['id']  = array('not in',array('1','5','8'));\n<\/code><\/pre>\n\n<p>\u67e5\u8be2\u6761\u4ef6\u5c31\u53d8\u6210 <code>id NOT IN (1,5, 8)<\/code><\/p>\n\n<h2>EXP\uff1a\u8868\u8fbe\u5f0f<\/h2>\n\n<p>\u652f\u6301\u66f4\u590d\u6742\u7684\u67e5\u8be2\u60c5\u51b5\n\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>$map['id']  = array('in','1,3,8');\n<\/code><\/pre>\n\n<p>\u53ef\u4ee5\u6539\u6210\uff1a<\/p>\n\n<pre><code>$map['id']  = array('exp',' IN (1,3,8) ');\n<\/code><\/pre>\n\n<p>exp\u67e5\u8be2\u7684\u6761\u4ef6\u4e0d\u4f1a\u88ab\u5f53\u6210\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u540e\u9762\u7684\u67e5\u8be2\u6761\u4ef6\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55SQL\u652f\u6301\u7684\u8bed\u6cd5\uff0c\u5305\u62ec\u4f7f\u7528\u51fd\u6570\u548c\u5b57\u6bb5\u540d\u79f0\u3002\u67e5\u8be2\u8868\u8fbe\u5f0f\u4e0d\u4ec5\u53ef\u7528\u4e8e\u67e5\u8be2\u6761\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8e\u6570\u636e\u66f4\u65b0\uff0c\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>$User = M(\"User\"); \/\/ \u5b9e\u4f8b\u5316User\u5bf9\u8c61\n\/\/ \u8981\u4fee\u6539\u7684\u6570\u636e\u5bf9\u8c61\u5c5e\u6027\u8d4b\u503c\n$data['name'] = 'ThinkPHP';\n$data['score'] = array('exp','score+1');\/\/ \u7528\u6237\u7684\u79ef\u5206\u52a01\n$User-&gt;where('id=5')-&gt;save($data); \/\/ \u6839\u636e\u6761\u4ef6\u4fdd\u5b58\u4fee\u6539\u7684\u6570\u636e \n<\/code><\/pre>\n","template":""}