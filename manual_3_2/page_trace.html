{"id":"136","uid":"1","name":"page_trace","title":"\u9875\u9762Trace","category_id":"1","description":"","pid":"13","model_id":"2","root":"1","type":"1","position":"0","link_id":"0","cover_id":"0","display":"0","dateline":"0","attach":"0","view":"0","comment":"0","extend":"0","level":"70","create_time":"1381628220","update_time":"1388384629","status":"1","parse":"2","content":"<p>\u8c03\u8bd5\u6a21\u5f0f\u5e76\u4e0d\u80fd\u5b8c\u5168\u6ee1\u8db3\u6211\u4eec\u8c03\u8bd5\u7684\u9700\u8981\uff0c\u6709\u65f6\u5019\u6211\u4eec\u9700\u8981\u624b\u52a8\u7684\u8f93\u51fa\u4e00\u4e9b\u8c03\u8bd5\u4fe1\u606f\u3002\u9664\u4e86\u672c\u8eab\u53ef\u4ee5\u501f\u52a9\u4e00\u4e9b\u5f00\u53d1\u5de5\u5177\u8fdb\u884c\u8c03\u8bd5\u5916\uff0cThinkPHP\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u5185\u7f6e\u7684\u8c03\u8bd5\u5de5\u5177\u548c\u51fd\u6570\u3002\u4f8b\u5982\uff0c\u9875\u9762Trace\u529f\u80fd\u5c31\u662fThinkPHP\u63d0\u4f9b\u7ed9\u5f00\u53d1\u4eba\u5458\u7684\u4e00\u4e2a\u7528\u4e8e\u5f00\u53d1\u8c03\u8bd5\u7684\u8f85\u52a9\u5de5\u5177\u3002\u53ef\u4ee5\u5b9e\u65f6\u663e\u793a\u5f53\u524d\u9875\u9762\u7684\u64cd\u4f5c\u7684\u8bf7\u6c42\u4fe1\u606f\u3001\u8fd0\u884c\u60c5\u51b5\u3001SQL\u6267\u884c\u3001\u9519\u8bef\u63d0\u793a\u7b49\uff0c\u5e76\u652f\u6301\u81ea\u5b9a\u4e49\u663e\u793a\u3002<\/p>\n\n<p>\u9875\u9762Trace\u529f\u80fd\u5bf9\u8c03\u8bd5\u6a21\u5f0f\u548c\u90e8\u7f72\u6a21\u5f0f\u90fd\u6709\u6548\uff0c\u4e0d\u8fc7\u53ea\u80fd\u7528\u4e8e\u6709\u9875\u9762\u8f93\u51fa\u7684\u60c5\u51b5\uff08\u5982\u679c\u4f60\u7684\u64cd\u4f5c\u6ca1\u6709\u4efb\u4f55\u8f93\u51fa\uff0c\u90a3\u4e48\u53ef\u80fd\u9875\u9762Trace\u529f\u80fd\u5bf9\u4f60\u5e2e\u52a9\u4e0d\u5927\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u540e\u9762\u7684\u8c03\u8bd5\u65b9\u6cd5\uff09\u3002<\/p>\n\n<blockquote>\n  <p>\u5728\u90e8\u7f72\u6a21\u5f0f\u4e0b\u9762\uff0c\u663e\u793a\u7684\u8c03\u8bd5\u4fe1\u606f\u6ca1\u6709\u8c03\u8bd5\u6a21\u5f0f\u5b8c\u6574\uff0c\u901a\u5e38\u6211\u4eec\u5efa\u8bae\u9875\u9762Trace\u914d\u5408\u8c03\u8bd5\u6a21\u5f0f\u4e00\u8d77\u4f7f\u7528\u3002<\/p>\n<\/blockquote>\n\n<p>\u8981\u5f00\u542f\u9875\u9762Trace\u529f\u80fd\uff0c\u9700\u8981\u5728\u9879\u76ee\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\uff1a<\/p>\n\n<pre><code>\/\/ \u663e\u793a\u9875\u9762Trace\u4fe1\u606f\n'SHOW_PAGE_TRACE' =&gt;true, \n<\/code><\/pre>\n\n<p>\u8be5\u53c2\u6570\u9ed8\u8ba4\u4e3a\u5173\u95ed\uff0c\u5f00\u542f\u540e\u5e76\u4e14\u4f60\u7684\u9875\u9762\u6709\u6a21\u677f\u8f93\u51fa\u7684\u8bdd\uff0c\u9875\u9762\u53f3\u4e0b\u89d2\u4f1a\u663e\u793aThinkPHP\u7684LOGO\uff1a<\/p>\n\n<p>\u6211\u4eec\u770b\u5230\u7684LOGO\u540e\u9762\u7684\u6570\u5b57\u5c31\u662f\u5f53\u524d\u9875\u9762\u7684\u6267\u884c\u65f6\u95f4\uff08\u5355\u4f4d\u662f\u79d2\uff09 \u70b9\u51fb\u8be5\u56fe\u6807\u540e\uff0c\u4f1a\u5c55\u5f00\u8be6\u7ec6\u7684\u9875\u9762Trace\u4fe1\u606f\uff0c\u5982\u56fe\uff1a<\/p>\n\n<p>\u9875\u9762Trace\u6846\u67b6\u67096\u4e2a\u9009\u9879\u5361\uff0c\u5206\u522b\u662f\u57fa\u672c\u3001\u6587\u4ef6\u3001\u6d41\u7a0b\u3001\u9519\u8bef\u3001SQL\u548c\u8c03\u8bd5\uff0c\u70b9\u51fb\u4e0d\u540c\u7684\u9009\u9879\u5361\u4f1a\u5207\u6362\u5230\u4e0d\u540c\u7684Trace\u4fe1\u606f\u7a97\u53e3\u3002<\/p>\n\n<table>\n<thead>\n<tr>\n  <th>\u9009\u9879\u5361<\/th>\n  <th>\u63cf\u8ff0<\/th>\n<\/tr>\n<\/thead>\n<tbody>\n<tr>\n  <td>\u57fa\u672c<\/td>\n  <td>\u5f53\u524d\u9875\u9762\u7684\u57fa\u672c\u6458\u8981\u4fe1\u606f\uff0c\u4f8b\u5982\u6267\u884c\u65f6\u95f4\u3001\u5185\u5b58\u5f00\u9500\u3001\u6587\u4ef6\u52a0\u8f7d\u6570\u3001\u67e5\u8be2\u6b21\u6570\u7b49\u7b49\u3002<\/td>\n<\/tr>\n<tr>\n  <td>\u6587\u4ef6<\/td>\n  <td>\u8be6\u7ec6\u5217\u51fa\u5f53\u524d\u9875\u9762\u6267\u884c\u8fc7\u7a0b\u4e2d\u52a0\u8f7d\u7684\u6587\u4ef6\u53ca\u5176\u5927\u5c0f\u3002<\/td>\n<\/tr>\n<tr>\n  <td>\u6d41\u7a0b<\/td>\n  <td>\u4f1a\u5217\u51fa\u5f53\u524d\u9875\u9762\u6267\u884c\u5230\u7684\u884c\u4e3a\u548c\u76f8\u5173\u6d41\u7a0b\uff08\u5f85\u5b8c\u5584\uff09\u3002<\/td>\n<\/tr>\n<tr>\n  <td>\u9519\u8bef<\/td>\n  <td>\u5f53\u524d\u9875\u9762\u6267\u884c\u8fc7\u7a0b\u4e2d\u7684\u4e00\u4e9b\u9519\u8bef\u4fe1\u606f\uff0c\u5305\u62ec\u8b66\u544a\u9519\u8bef\u3002<\/td>\n<\/tr>\n<tr>\n  <td>SQL<\/td>\n  <td>\u5f53\u524d\u9875\u9762\u6267\u884c\u5230\u7684SQL\u8bed\u53e5\u4fe1\u606f\u3002<\/td>\n<\/tr>\n<tr>\n  <td>\u8c03\u8bd5<\/td>\n  <td>\u5f00\u53d1\u4eba\u5458\u5728\u7a0b\u5e8f\u4e2d\u8fdb\u884c\u7684\u8c03\u8bd5\u8f93\u51fa\u3002<\/td>\n<\/tr>\n<\/tbody>\n<\/table>\n\n<p>\u9875\u9762Trace\u7684\u9009\u9879\u5361\u662f\u53ef\u4ee5\u5b9a\u5236\u548c\u6269\u5c55\u7684\uff0c\u9ed8\u8ba4\u7684\u914d\u7f6e\u4e3a\uff1a<\/p>\n\n<pre><code>'TRACE_PAGE_TABS'=&gt;array(\n    'base'=&gt;'\u57fa\u672c',\n     'file'=&gt;'\u6587\u4ef6',\n     'think'=&gt;'\u6d41\u7a0b',\n     'error'=&gt;'\u9519\u8bef',\n     'sql'=&gt;'SQL',\n     'debug'=&gt;'\u8c03\u8bd5'\n)\n<\/code><\/pre>\n\n<p>\u4e5f\u5c31\u662f\u6211\u4eec\u770b\u5230\u7684\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u663e\u793a\u7684\u9009\u9879\u5361\uff0c\u5982\u679c\u4f60\u5e0c\u671b\u589e\u52a0\u65b0\u7684\u9009\u9879\u5361\uff1a\u7528\u6237\uff0c\u5219\u53ef\u4ee5\u4fee\u6539\u914d\u7f6e\u5982\u4e0b\uff1a<\/p>\n\n<pre><code>'TRACE_PAGE_TABS'=&gt;array(\n     'base'=&gt;'\u57fa\u672c',\n     'file'=&gt;'\u6587\u4ef6',\n     'think'=&gt;'\u6d41\u7a0b',\n     'error'=&gt;'\u9519\u8bef',\n     'sql'=&gt;'SQL',\n     'debug'=&gt;'\u8c03\u8bd5',\n     'user'=&gt;'\u7528\u6237'\n)\n<\/code><\/pre>\n\n<p>\u4e5f\u53ef\u4ee5\u628a\u67d0\u51e0\u4e2a\u9009\u9879\u5361\u5408\u5e76\uff0c\u4f8b\u5982\uff1a<\/p>\n\n<pre><code>'TRACE_PAGE_TABS'=&gt;array(\n     'base'=&gt;'\u57fa\u672c',\n     'file'=&gt;'\u6587\u4ef6',\n     'think'=&gt;'\u6d41\u7a0b',\n     'error|debug|sql'=&gt;'\u8c03\u8bd5',\n     'user'=&gt;'\u7528\u6237'\n)\n<\/code><\/pre>\n\n<p>\u6211\u4eec\u628a\u521a\u624d\u7684\u7528\u6237\u4fe1\u606f\u8c03\u8bd5\u8f93\u51fa\u5230\u7528\u6237\u9009\u9879\u5361\uff0ctrace\u65b9\u6cd5\u7684\u7528\u6cd5\u5982\u4e0b\uff1a<\/p>\n\n<p><code>trace($user,'\u7528\u6237\u4fe1\u606f','user');<\/code><\/p>\n\n<p>\u7b2c\u4e09\u4e2a\u53c2\u6570\u8868\u793a\u9009\u9879\u5361\u7684\u6807\u8bc6\uff0c\u548c\u6211\u4eec\u5728TRACE_PAGE_TABS\u4e2d\u914d\u7f6e\u7684\u5bf9\u5e94\u3002\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u9875\u9762Trace\u7a97\u53e3\u663e\u793a\u7684\u4fe1\u606f\u662f\u4e0d\u4f1a\u4fdd\u5b58\u7684\uff0c\u5982\u679c\u5e0c\u671b\u4fdd\u5b58\u8fd9\u4e9btrace\u4fe1\u606f\uff0c\u6211\u4eec\u53ef\u4ee5\u914d\u7f6ePAGE_TRACE_SAVE\u53c2\u6570<\/p>\n\n<p><code>'PAGE_TRACE_SAVE'=&gt;true<\/code><\/p>\n\n<p>\u5f00\u542f\u9875\u9762trace\u4fe1\u606f\u4fdd\u5b58\u540e\uff0c\u6bcf\u6b21\u7684\u9875\u9762Trace\u4fe1\u606f\u4f1a\u4ee5\u65e5\u5fd7\u5f62\u5f0f\u4fdd\u5b58\u5230\u9879\u76ee\u7684\u65e5\u5fd7\u76ee\u5f55\u4e2d\uff0c\u547d\u540d\u683c\u5f0f\u662f\uff1a \u5f53\u524d\u65e5\u671f_trace.log\uff0c\u4f8b\u5982\uff1a12-06-21_trace.log<\/p>\n\n<p>\u5982\u679c\u4e0d\u5e0c\u671b\u4fdd\u5b58\u6240\u6709\u7684\u9009\u9879\u5361\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u9700\u8981\u4fdd\u5b58\u7684\u9009\u9879\u5361\uff0c\u4f8b\u5982\uff1a<\/p>\n\n<p><code>'PAGE_TRACE_SAVE' =&gt; array('base','file','sql');<\/code><\/p>\n\n<p>\u8bbe\u7f6e\u540e\u53ea\u4f1a\u4fdd\u5b58base\u3001file\u548csql\u4e09\u4e2a\u9009\u9879\u5361\u7684\u4fe1\u606f\u3002<\/p>\n","template":""}